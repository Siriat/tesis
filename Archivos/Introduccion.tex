\chapter{Introducción}\label{intro}

%debido a la automatización se necesita tener menos personas

%pero a causa de esto se tiene el problema de la supervision

A medida que la producción aumenta se necesita que la producción sea mas rápida,un supervisor humano no puede observar el buen funcionamineto de la linea personalmente, por lo que normalmente se usan sensores para este tipo de cosas y el operario simplemente monitorea los sensores, pero por alguna u otra razón es posible encontrar objetos desconocidos dentro de la linea de producción , estos podrían dañar algunas de las maquinas.

%caso general
El daño por objetos externos es conocido como FOD  por sus siglas en ingles, (\textit{Foreing object Damage}), aunque es mas conocido en aviación, no se limita solo a eso, lo mas comen es que sean las turbinas las que sean afectadas, pero en una linea de producción donde se espera algún objeto blando para ser procesado o algún tubo por el que se necesita pasar 

esto podría traer consecuencias como la mala calidad del producto, danos a la maquinaria o daños a la salud de los consumidores.

En el caso de la industria alimenticia, es incluso pero a que existen casos en los que objetos ajenos son encontrados dentro de la comida y esto daña la imagen de las empresas y trae consecuencias legales contra la misma.

Existe una infinita variedad de FOD, pero los que mas se repiten son los causados por mantenimiento, en que una pequeña pieza llega a caer durante un mantenimiento, al ser tan pequeñas es probable que no sea notada,

%Algunas de las recomendaciones para evitar el FOD 
%\begin{figure}
%	\centering
%	\includegraphics[width=0.7\linewidth]{../../../FOD-on-circuit-board}
%	\caption{Ejemplos de FOD dentro de un circuito}
%	\label{fig:fod-on-circuit-board}
%\end{figure}
\begin{figure}
	\centering
	\includegraphics[width=0.7\linewidth]{../../../ad_193881805}
	\caption{Ejemplos de FOD en la industria alimenticia.
		Recuperado de http://metro.co.uk/2016/01/21/what-should-i-do-if-i-find-a-foreign-object-in-my-food-dont-take-it-back-to-the-shop-5636379/}
	\label{fig:ad193881805}
\end{figure}
%\begin{figure}
%	\centering
%	\includegraphics[width=0.7\linewidth]{../../../imgfod_tb_01}
%	\caption{FOD encontrado durante una inspección en un Aeropuerto}
%	\label{fig:imgfodtb01}
%\end{figure}
%Apellido, Inicial. (año). Título del trabajo [Tipo]. Recuperado de http://www.www.www.
\begin{figure}
	\centering
	\includegraphics[width=0.7\linewidth]{../../../schaufelrad1a}
	\caption{ Recuperado de http://www.www.www.http://www.behrhellaservice.com/behr-hella-service/en/Mechanical-turbocharger-damage-5199.html}
	\label{fig:schaufelrad1a}
\end{figure}

 
\section{Definición del Problema}

 Aquellas situaciones en las que algún objeto desconocido pueda necesitar ser  sujetado en un entorno semi-estructurado, lo que significa que se conocen algunas de las características de este.

\section{Motivación}
Prevenir los danos causados por objetos externos en una linea de producción de una fabrica.


\section{Objetivos}

\subsection{Objetivo General}

El objetivo principal de la tesis es realizar una sujeción de un objeto objeto desconocido con un robot cartesiano, de la forma mas rápida posible.

\subsection{Objetivos Especificos}
\begin{itemize}
	 
\item Usar visión artificial para encontrar la ubicación del objeto


\item Mover el robot en la posición 


\item realizar la sujeción del objeto a ser retirado usando solo la fuerza necesaria


\end{itemize}
%1.-Hacer una rotacion de las coordenadas de la imagen de profundidad, usando una matriz de rotacion en las coordenadas de la imagen para alinear las coordenadas de la imagen con las coordenadas del robot.

%2.-Usando la informacion que se tiene del espacio de trabajo, eliminar todos los puntos que esten fuera del alcanze del robot.

%3.-Adquirir la posicion del centroide del objeto usando el operador \textit{sobel} para eliminar los puntos menos relevantes y usando la media del resto de los puntos.

%4.-Conoser la altura a la que deberia estar el gripper, usando la altura maxima del area que abarca el gripper sobre el objeto.


\section{Hipótesis}
Usando una imagen de profundidad de una sola vista del objeto y un sensor de fuerza es posible realizar la sujeción de objetos desconocidos con un robot cartesiano usando un control adaptativo basado en conocimiento humano.

%antitesis


%sintesis

\section{Trabajo Previo}
Sujetar es una de las tareas mas básicas en la robótica, por lo que es completamente necesaria para tareas de mayor complejidad tener una sujetar correcto, para poder tener una sujeción exitosa se necesita tener información especifica acerca del objeto, lo mas común es la posición, las dimensiones, el peso y los puntos de agarre, pero para esto se necesitaría conocer al objeto previamente, en el caso de los objetos nuevos o desconocidos esta información no esta presente, por lo que la sujeción se complica, esto es porque esos datos son importantes y deben ser conseguidos.


Han habido varias obras en esta tarea, ya que es una de las más comunes, algunas obras se enumeran en las compilaciones \cite{carlos2013survey}, como se puede ver en esas obras el uso de un sistema de visión es algo común. Por un largo tiempo, al principio no era tan recomendable como la velocidad de fotogramas y los algoritmos, eran lentos, como se comenta en [3], ahora con cámaras RGBD es más fácil de trabajar con el sensor profundidad de la misma manera que usamos un cámara de color, esto ha sido útil porque es más fácil trabajar el algoritmo de visión en la imagen RGB y la imagen profundidad. \\
%Un objeto puede tener un número infinito de puntos de agarre, para elegir hay una necesidad de tener hipótesis, el que vamos a utilizar se basa en la forma en que los seres humanos captar un objeto, similar al trabajo [7] en el que había resultados basados ​​en la neurociencia Que demostró que un ser humano no usa todo el DOF de su mano, con esto el DOF de manos podría ser reducido, para ajustarse a lo que se llamaba eigengrasps, que eran pre-agarrar posturas. En el trabajo [8] usan una representación de objetos de punto de nube y luego usan ejemplos de agarre humano para tener algún conocimiento empírico para el agarre.
El control que vamos a utilizar se propone en [5], este control de la regla difusa regla emulada (FREN), es un muy simple y fácil de configurar, vamos a utilizar a causa de su parte adaptable. \\

Existen varias formas de clasificar la sujeción, una puede ser; por la información que se tenga del objeto, en esta se clasifica al objeto como conocido, familiar y desconocido, esto puede verse en \cite{bohg2014data,el20113d,carlos2013survey,zaharescuobject}.

Cuando hay suficiente información para realizar la tarea deseada el objeto es clasificado como conocido.

Un objeto familiar es aquel que, aun cuando no se conoce específicamente, comparte características con un objeto conocido. Por otro lado, un objeto desconocido es aquel que no tiene ninguna información previa. \\

El problema del objeto desconocido puede describirse como la falta de conocimiento de cualquier característica importante del objeto, este problema ha sido abordado de diferentes maneras, como tener un escaneo del objeto, usar el contexto en el que se esta trabajando para discriminar otros objetos o una segmentación del fondo para facilitar el reconocimiento.

Este problema se puede dividir en dos partes principales: la segmentación de este objeto y el agarre. En ambos la parte más importante es conseguir tanta información como sea posible. La adquisición de dicha información es posible a través de sensores, pero elegir el sensor a utilizar puede ser difícil para una amplia gama de objetos, ya que algunos podrían no ser detectables por dicho sensor. \\

Estos tipos de objetos son especialmente difíciles debido a la completa falta de información desde el punto de vista de la visión artificial. La segmentación de tales objetos es especialmente difícil.

Esto se debe a que en una imagen en color el color y los gradientes del objeto son desconocidos, por lo que el objeto puede considerarse como ruido o irrelevante en algún momento. Para identificar objetos desconocidos en ese punto, sería útil detectar todos los objetos y luego clasificaros. Debido a estas razones, diferentes enfoques se utilizan para hacer frente a este problema, como el uso de contexto o heurística. Los problemas de agarre también se pueden clasificar como datos impulsados ​​y conducidos por tareas.


Los tipo \textit{Data-driven} intentan obtener los datos más posibles, mientras que la tarea impulsada intenta buscar algo que puede ser útil para la tarea. Un ejemplo de la aproximación impulsada por datos al problema de objeto desconocido sería un método que consiste en el uso de un brazo de robot para el objeto \cite{kaneko1994contact}. Otro ejemplo puede ser el uso y la aproximación de los objetos a las formas primitivas para hacer un reconocimiento \cite{fornas2016fitting, felip2009robust, miller2003automatic, huebner2008selection}. Todos estos enfoques tienen sus limitaciones, y no hay un método general para tratar el problema, ya que uno puede ser eficaz en una aplicación, mientras que, en otros, el método no puede ser utilizado.

Este trabajo se divide en la identificación del objeto desconocido y el alcance del objeto. Para la parte de identificación \cite{hosang2016makes} fue útil como referencia en la segmentación. Dos algoritmos se presentan en \cref{ch.vision}, el primero para la segmentación del objeto y el segundo para adquirir la posición y el tamaño del objeto.
Para el alcance del objeto se utilizó el controlador adaptativo (FREN) \cite{fren}, presentado en \cref{ch.fren}, lo cual resulta conveniente para la simplicidad de su inicialización y adaptación rápida.

\section{Contribución}
En este trabajo se usa una metodología ligeramente distinta a la usada en \cref{labellist},  siendo este el mas cercano.
con la intención de hacer el código mas rápido para el calculo del centroide del objeto, usando los puntos mas relevantes de la imagen, tomando en cuenta el espaciado entre estos puntos.
esto ayuda a calcular el centroide usando la media de los puntos.

\section{Metodología}

Como puede verse en \cref{fig:metodologia}, esta tesis esta dividida en 3 partes principales, la parte de visión y control que sirven para atacar el problema de la sujeción de un objeto desconocido.

La sección de visión es que se encargara de encontrar un objeto cualquiera y la parte de control se encargara de mover el robot hasta alcanzar la posición de este objeto, esto con intención de sujetar el objeto.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.7\linewidth]{visio/visio3/metodologia}
	\caption{Areas Involucradas}
	\label{fig:metodologia}
\end{figure}

El control se divide en 2 fases: una para la segmentación y la otra para alcanzar el objeto

Como se muestra en \cref{fig:1}, el control para llegar al objeto se deja como un control de bucle abierto, ya que estamos utilizando la cámara para obtener la posición del objeto, y dejando la posición del robot a un Control Neuro-Difuso, FREN \cite{fren}.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.7\linewidth]{visio/diagrama1-eps-converted-to}
	\caption{Diagrama de control geneal}
	\label{fig:diagrama1-eps-converted-to}
\end{figure}
\begin{itemize}

\item Conectar la cámara y el \textit{Gripper} a \textit{Matlab} para poder escribir el resto del código en esta plataforma de programación, esto para agilizar el desarrollo.

\item Hacer una rotación de las coordenadas de la imagen de profundidad, para alinear las coordenadas de la imagen con las coordenadas del robot, y así poder tener los objetos en coordenadas que el robot pueda seguir fácilmente.

\item Segmentar el objeto usando información del espacio de trabajo y encontrar su centroide y altura, los cuales serán el punto a donde se dirija el \textit{Gripper}.

\item Utilizar el control FREN para mover el robot.

\item Diseñar los dedos a ser usando junto con el sensor de fuerza, y comparar la utilidad del sensor de fuerza incluido en el \textit{Gripper}, contra el sensor de fuerza que 
\end{itemize}

\section{Organización del documento}


En el capitulo 2 se mencionaran unos conceptos básicos de visión para entender la segmentación y el calculo del centroide de los objetos, en el apéndice \cref{cinematica}, se explican algunos conceptos de matemáticas que se usan para los cambios de los marcos de referencia. en el capitulo 3 se explica el control usado para el movimiento del robot, este control pertenece a la familia de las ANFIS(Sistema Adaptativo de Inferencia Neuro-Difusa ), algunos conceptos necesarios pueden encontrarse en \cref{basesneurodifusas}. explicando paso a paso. en el capitulo 4 se habla de la decisión de fuerza que se uso para el \textit{Gripper}, 
 %estos capítulos están estructurados en una introducción, algunos conceptos básicos, el tema principal del capitulo, los resultados obtenidos en cada fase, y algunas discusiones acerca del capitulo,
en el capitulo 5 se muestran los resultados obtenidos en los experimentos y finalmente el el capitulo 6 se presentan las conclusiones generales y se habla acerca del trabajo futuro.

Al final del documento, en \cref{diseno} se muestran los planos del los dedos del \textit{Gripper}, en \cref{publicaciones} se muestra una publicación que fue resultado de este trabajo, y finalmente en \cref{codigo} esta incluido el código que se uso, ya sea el código de visión, el de control junto con algunas funciones necesarias, el comunicación con el \textit{Gripper} y el código completo.

